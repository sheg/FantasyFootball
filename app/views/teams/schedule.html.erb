<%= render "shared/league_header" %>

<% if @league.available_teams == 0 %>
    <%= render "team_info_panel" %>
    <%= render "shared/teams_select" %>
    <%= render 'shared/schedule_type_navigator' %>

    <div id="dynamic_team_schedule">
      <table class="table table-responsive table-condensed schedule-table">
        <th>Week</th>
        <th>Home Team</th>
        <th>Away Team</th>
        <th>Result</th>
        <tbody class="team-games">
        <% @games.each do |game| %>
            <tr>
              <%= content_tag(:td, game.week) %>
              <%= content_tag(:td, game.home_team.name, class: highlight_my_team(@user_team, game.home_team)) %>
              <%= content_tag(:td, game.away_team.name, class: highlight_my_team(@user_team, game.away_team)) %>
              <td><%= "#{game.home_score} - #{game.away_score}"%></td>
            </tr>
        <% end %>
        </tbody>
      </table>

    </div>
<% else %>
    <h3 class="center highlight">League not full yet... only <%= @league.available_teams %> slots to go!</h3>
<% end %>